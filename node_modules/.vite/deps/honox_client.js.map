{
  "version": 3,
  "sources": ["../../.deno/honox@0.1.39/node_modules/honox/dist/client/client.js"],
  "sourcesContent": ["import { render, createElement as createElementHono } from \"hono/jsx/dom\";\nimport {\n  COMPONENT_EXPORT,\n  COMPONENT_NAME,\n  DATA_HONO_TEMPLATE,\n  DATA_SERIALIZED_PROPS\n} from \"../constants.js\";\nconst createClient = async (options) => {\n  const FILES = options?.ISLAND_FILES ?? {\n    ...import.meta.glob(\"/app/islands/**/[a-zA-Z0-9-]+.tsx\"),\n    ...import.meta.glob(\"/app/**/_[a-zA-Z0-9-]+.island.tsx\"),\n    ...import.meta.glob(\"/app/**/$[a-zA-Z0-9-]+.tsx\")\n  };\n  const hydrateComponent = async (document2) => {\n    const filePromises = Object.keys(FILES).map(async (filePath) => {\n      const componentName = filePath;\n      const elements = document2.querySelectorAll(\n        `[${COMPONENT_NAME}=\"${componentName}\"]:not([data-hono-hydrated])`\n      );\n      if (elements) {\n        const elementPromises = Array.from(elements).map(async (element) => {\n          element.setAttribute(\"data-hono-hydrated\", \"true\");\n          const exportName = element.getAttribute(COMPONENT_EXPORT) || \"default\";\n          const fileCallback = FILES[filePath];\n          const file = await fileCallback();\n          const Component = await file[exportName];\n          const serializedProps = element.attributes.getNamedItem(DATA_SERIALIZED_PROPS)?.value;\n          const props = JSON.parse(serializedProps ?? \"{}\");\n          const hydrate = options?.hydrate ?? render;\n          const createElement = options?.createElement ?? createElementHono;\n          let maybeTemplate = element.childNodes[element.childNodes.length - 1];\n          while (maybeTemplate?.nodeName === \"TEMPLATE\") {\n            const propKey = maybeTemplate.getAttribute(DATA_HONO_TEMPLATE);\n            if (propKey == null) {\n              break;\n            }\n            let createChildren = options?.createChildren;\n            if (!createChildren) {\n              const { buildCreateChildrenFn } = await import(\"./runtime\");\n              createChildren = buildCreateChildrenFn(\n                createElement,\n                async (name) => (await FILES[`${name}`]()).default\n              );\n            }\n            props[propKey] = await createChildren(\n              maybeTemplate.content.childNodes\n            );\n            maybeTemplate = maybeTemplate.previousSibling;\n          }\n          const newElem = await createElement(Component, props);\n          await hydrate(newElem, element);\n        });\n        await Promise.all(elementPromises);\n      }\n    });\n    await Promise.all(filePromises);\n  };\n  const triggerHydration = options?.triggerHydration ?? (async (hydrateComponent2) => {\n    if (document.querySelector('template[id^=\"H:\"], template[id^=\"E:\"]')) {\n      const { hydrateComponentHonoSuspense } = await import(\"./runtime\");\n      await hydrateComponentHonoSuspense(hydrateComponent2);\n    }\n    await hydrateComponent2(document);\n  });\n  await triggerHydration?.(hydrateComponent);\n};\nexport {\n  createClient\n};\n"],
  "mappings": ";;;;;;;;;;AAOA,IAAM,eAAe,OAAO,YAAY;AACtC,QAAM,SAAQ,mCAAS,iBAAgB;AAAA,IACrC,GAAG,YAAY,KAAK,mCAAmC;AAAA,IACvD,GAAG,YAAY,KAAK,mCAAmC;AAAA,IACvD,GAAG,YAAY,KAAK,4BAA4B;AAAA,EAClD;AACA,QAAM,mBAAmB,OAAO,cAAc;AAC5C,UAAM,eAAe,OAAO,KAAK,KAAK,EAAE,IAAI,OAAO,aAAa;AAC9D,YAAM,gBAAgB;AACtB,YAAM,WAAW,UAAU;AAAA,QACzB,IAAI,cAAc,KAAK,aAAa;AAAA,MACtC;AACA,UAAI,UAAU;AACZ,cAAM,kBAAkB,MAAM,KAAK,QAAQ,EAAE,IAAI,OAAO,YAAY;AApB5E;AAqBU,kBAAQ,aAAa,sBAAsB,MAAM;AACjD,gBAAM,aAAa,QAAQ,aAAa,gBAAgB,KAAK;AAC7D,gBAAM,eAAe,MAAM,QAAQ;AACnC,gBAAM,OAAO,MAAM,aAAa;AAChC,gBAAM,YAAY,MAAM,KAAK,UAAU;AACvC,gBAAM,mBAAkB,aAAQ,WAAW,aAAa,qBAAqB,MAArD,mBAAwD;AAChF,gBAAM,QAAQ,KAAK,MAAM,mBAAmB,IAAI;AAChD,gBAAM,WAAU,mCAAS,YAAW;AACpC,gBAAMA,kBAAgB,mCAAS,kBAAiB;AAChD,cAAI,gBAAgB,QAAQ,WAAW,QAAQ,WAAW,SAAS,CAAC;AACpE,kBAAO,+CAAe,cAAa,YAAY;AAC7C,kBAAM,UAAU,cAAc,aAAa,kBAAkB;AAC7D,gBAAI,WAAW,MAAM;AACnB;AAAA,YACF;AACA,gBAAI,iBAAiB,mCAAS;AAC9B,gBAAI,CAAC,gBAAgB;AACnB,oBAAM,EAAE,sBAAsB,IAAI,MAAM,OAAO,uBAAW;AAC1D,+BAAiB;AAAA,gBACfA;AAAA,gBACA,OAAO,UAAU,MAAM,MAAM,GAAG,IAAI,EAAE,EAAE,GAAG;AAAA,cAC7C;AAAA,YACF;AACA,kBAAM,OAAO,IAAI,MAAM;AAAA,cACrB,cAAc,QAAQ;AAAA,YACxB;AACA,4BAAgB,cAAc;AAAA,UAChC;AACA,gBAAM,UAAU,MAAMA,eAAc,WAAW,KAAK;AACpD,gBAAM,QAAQ,SAAS,OAAO;AAAA,QAChC,CAAC;AACD,cAAM,QAAQ,IAAI,eAAe;AAAA,MACnC;AAAA,IACF,CAAC;AACD,UAAM,QAAQ,IAAI,YAAY;AAAA,EAChC;AACA,QAAM,oBAAmB,mCAAS,sBAAqB,OAAO,sBAAsB;AAClF,QAAI,SAAS,cAAc,wCAAwC,GAAG;AACpE,YAAM,EAAE,6BAA6B,IAAI,MAAM,OAAO,uBAAW;AACjE,YAAM,6BAA6B,iBAAiB;AAAA,IACtD;AACA,UAAM,kBAAkB,QAAQ;AAAA,EAClC;AACA,SAAM,qDAAmB;AAC3B;",
  "names": ["createElement"]
}
